<!DOCTYPE html>
<html lang="zh-Hant-TW">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="三杯鴨-馬克杯選品店。">
    <meta name="keywords" content="不銹鋼杯,鴨子造型禮物,玻璃杯,馬克杯">
    <meta name="copyright" content="&copy; 2024 duckup.">
    <meta name="author" content="rita design.">
    <meta name="generator" content="vscode">
    <meta name="Distribution" content="Taiwan">
    <meta name="creation-date" content="01-jan-2024 20:40:01">

    <meta property="og:locale" content="zh-hant-tw" />
    <meta property="og:type" content="website">
    <meta property="og:title" content="三杯鴨-馬克杯選品店">
    <meta property="og:description" content="探索三杯鴨-馬克杯選品店。">
    <meta property="og:site_name" content="三杯鴨">
    <meta property="og:url" content="http://www.duckup.com/tw/">
    <meta property="og:image" content="yourCover.jpg">
    <meta property="og:image" content="yourImage.png">

    <title>三杯鴨-馬克杯選品店</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

    <!-- Don't use this in production: -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- 手動設定favicon -->
    <link rel="icon" href="./images/favicon.png"">
    <link href=" https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel=" stylesheet" href="./scss/css/style.css">

    <!-- Bootstrap 5 JS and Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- icon -->
    <script src=" https://kit.fontawesome.com/9662c9009d.js" crossorigin="anonymous"></script>
    <!-- Axios CDN -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>

<body>
    <div id="root"></div>
    <script type="text/babel">

        (async () => {
            const { useState, useEffect } = React;

            function MyApp() {
                const [productData, setProductData] = useState([]);
                const [selectedMaterial, setSelectedMaterial] = useState('');

                useEffect(() => {
                    const fetchData = async () => {
                        try {
                            const data = await axios.get('./json/product.json');
                            const { productData } = data.data;
                            setProductData(productData);
                        } catch (error) {
                            console.error("Error fetching product data:", error);
                        }
                    };

                    fetchData();
                }, []);

                //建立product元件
                const Product = ({ name, info, url }) => {
                    return (
                        <div className="product">
                            <img className="productImg" src={`./images/${url}.jpeg`} alt="" />
                            <h3 className="productName">{name}</h3>
                            <p className="productInfo">
                                {info}
                            </p>
                            <div className="add-cart">
                                <a>加入購物車 <i className="fa-solid fa-cart-shopping fa-xl" style={{ color: "#FFFADD" }}></i></a>
                            </div>
                        </div>
                    );
                }

                //render 函式
                const renderProducts = (products) => {
                    return (<>
                        <div className="product-list">
                            <i className="fa-solid fa-square-caret-left fa-2xl" style={{ color: "#22668d" }}></i>
                            {products.map((product) => (
                                <Product key={product.name} name={product.name} info={product.info} url={product.url} />
                            ))}
                            <i className="fa-solid fa-square-caret-right fa-2xl" style={{ color: "#22668d" }}></i>
                        </div >
                    </>)
                };

                //切換按鈕
                const TextureTabs = ({ textureData }) => {
                    const [activeTab, setActiveTab] = useState('glass');
                    const handleTabClick = (tab) => {
                        setActiveTab(tab);
                    };

                    // 根据选项卡按钮显示不同的介绍文本
                    const getTabContent = () => {
                        const filteredProducts = productData.filter(product => product.texture === activeTab);

                        if (filteredProducts.length === 0) {
                            return <p>No products available for this material.</p>;
                        }
                        switch (activeTab) {
                            case 'glass':
                                return (
                                    <>
                                        <div className="texture-content active" id="glass">
                                            <div className="texture-info">
                                                <p>玻璃可以看到飲料。</p>
                                                <a href="">立即逛逛</a>
                                            </div>
                                            {renderProducts(filteredProducts)}
                                        </div >
                                    </>);
                            case 'stainless':
                                return (<>
                                    <div className="texture-content active " id="stainless">
                                        <div className="texture-info">
                                            <p>不鏽鋼保溫</p>
                                            <a href="">立即逛逛</a>
                                        </div>
                                        {renderProducts(filteredProducts)}
                                    </div>
                                </>);
                            case 'ceramic':
                                return (<>
                                    <div className="texture-content active" id="ceramic">
                                        <div className="texture-info">
                                            <p>陶瓷馬克杯能夠保溫，且容易清洗，適合日常使用。</p>
                                            <a href="">立即逛逛</a>
                                        </div>
                                        {renderProducts(filteredProducts)}
                                    </div>
                                </>);
                            case 'woody':
                                return (<>
                                    <div className="texture-content active" id="woody">
                                        <div className="texture-info">
                                            <p>木頭有質感</p>
                                            <a href="">立即逛逛</a>
                                        </div>
                                        {renderProducts(filteredProducts)}</div >
                                </>);
                        }
                    };

                    return (
                        <>
                            <div className="textMenu">
                                <ul className="texture">
                                    <li>
                                        <a
                                            className={`texture-button ${activeTab === 'glass' ? 'active' : ''}`}
                                            onClick={() => {
                                                event.preventDefault();
                                                handleTabClick('glass')
                                            }}
                                            href="#"
                                        >
                                            <h3>玻璃</h3>
                                            <i className="fa-solid fa-mug-hot fa-lg" style={{ color: '#FFFADD' }}></i>
                                        </a>
                                    </li>
                                    <li>
                                        <a
                                            className={`texture-button ${activeTab === 'woody' ? 'active' : ''}`}
                                            onClick={() => {
                                                event.preventDefault(); handleTabClick('woody')
                                            }}
                                            href="#"
                                        >
                                            <h3>木質</h3>
                                            <i className="fa-solid fa-mug-hot fa-lg" style={{ color: "#FFFADD" }}></i>
                                        </a>
                                    </li>
                                    <li>
                                        <a
                                            className={`texture-button ${activeTab === 'ceramic' ? 'active' : ''}`}
                                            onClick={() => {
                                                event.preventDefault(); handleTabClick('ceramic')
                                            }}
                                            href="#"
                                        >
                                            <h3>瓷器</h3>
                                            <i className="fa-solid fa-mug-hot fa-lg" style={{ color: "#FFFADD" }}></i>
                                        </a>
                                    </li>
                                    <li>
                                        <a
                                            className={`texture-button ${activeTab === 'stainless' ? 'active' : ''}`}
                                            onClick={() => {
                                                event.preventDefault(); handleTabClick('stainless')
                                            }}
                                            href="#"
                                        >
                                            <h3>不鏽鋼</h3>
                                            <i className="fa-solid fa-mug-hot fa-lg" style={{ color: "#FFFADD" }}></i>
                                        </a>
                                    </li>
                                </ul >
                            </div>
                            <div className="textureList">
                                {getTabContent(activeTab)}
                            </div>
                        </>
                    )
                }

                return (
                    <>
                        <section id="category">
                            <header className="subTitle bold">
                                <img src="./images/header.png" alt="" />
                                <h2>精選種類</h2>
                                <h3>ALL PRODUCT</h3>
                            </header>
                            <TextureTabs textureData={productData} />
                        </section>

                    </>)

            }
            const container = document.getElementById('root');
            const root = ReactDOM.createRoot(container);
            root.render(<MyApp />);
        })();
    </script>
</body>

</html>
